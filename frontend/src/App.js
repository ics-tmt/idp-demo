import React,{useEffect,useState}from"react";import axios from"axios";import{Bar}from"react-chartjs-2";import"chart.js/auto";function App(){const[data,setData]=useState({});useEffect(()=>{axios.get("/api/v1/storycounts").then(res=>setData(res.data)).catch(err=>console.error(err));},[]);const labels=Object.keys(data);const counts=labels.map(k=>data[k]);const chartData={labels,datasets:[{label:"Stories Count",data:counts,backgroundColor:"rgba(75,192,192,0.4)"}]};return(<div style={{padding:"2rem"}}><h1>Stories per Epic</h1><table border="1" cellPadding="8"><thead><tr><th>Epic</th><th>Stories</th></tr></thead><tbody>{labels.map(epic=><tr key={epic}><td>{epic}</td><td>{data[epic]}</td></tr>)}</tbody></table><div style={{maxWidth:"600px",marginTop:"2rem"}}><Bar data={chartData}/></div></div>);}export default App;
